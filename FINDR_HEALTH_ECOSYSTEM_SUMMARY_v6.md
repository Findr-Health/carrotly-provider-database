# FINDR HEALTH ECOSYSTEM - COMPREHENSIVE SUMMARY
## Updated: January 10, 2026

---

## ğŸ—ï¸ SYSTEM ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          FINDR HEALTH ECOSYSTEM                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚   FLUTTER APP    â”‚     â”‚  PROVIDER PORTAL â”‚     â”‚ ADMIN DASHBOARD  â”‚   â”‚
â”‚   â”‚   (Consumer)     â”‚     â”‚  (carrotly-mvp)  â”‚     â”‚                  â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ â€¢ Home/Browse    â”‚     â”‚ â€¢ Onboarding     â”‚     â”‚ â€¢ Provider Mgmt  â”‚   â”‚
â”‚   â”‚ â€¢ Search Overlay â”‚     â”‚ â€¢ Edit Profile   â”‚     â”‚ â€¢ Service Admin  â”‚   â”‚
â”‚   â”‚ â€¢ Category Browseâ”‚     â”‚ â€¢ Services       â”‚     â”‚ â€¢ Analytics      â”‚   â”‚
â”‚   â”‚ â€¢ Provider Detailâ”‚     â”‚ â€¢ Hours/Calendar â”‚     â”‚ â€¢ Approvals      â”‚   â”‚
â”‚   â”‚ â€¢ Booking Flow   â”‚     â”‚ â€¢ Team Members   â”‚     â”‚ â€¢ User Mgmt      â”‚   â”‚
â”‚   â”‚ â€¢ Payments       â”‚     â”‚ â€¢ Photos â˜ï¸      â”‚     â”‚ â€¢ Reports        â”‚   â”‚
â”‚   â”‚ â€¢ Profile/Auth   â”‚     â”‚ â€¢ Legal Docs     â”‚     â”‚ â€¢ Photos â˜ï¸      â”‚   â”‚
â”‚   â”‚ â€¢ Clarity AI     â”‚     â”‚ â€¢ Dashboard      â”‚     â”‚ â€¢ Hours Tab      â”‚   â”‚
â”‚   â”‚ â€¢ Map Search     â”‚     â”‚                  â”‚     â”‚ â€¢ Verified/Featuredâ”‚  â”‚
â”‚   â”‚ â€¢ My Bookings    â”‚     â”‚                  â”‚     â”‚                  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚            â”‚                        â”‚                        â”‚              â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                     â”‚                                        â”‚
â”‚                                     â–¼                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                    â”‚         NODE.JS BACKEND        â”‚                       â”‚
â”‚                    â”‚  (Railway: fearless-achieve)   â”‚                       â”‚
â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
â”‚                    â”‚ â€¢ /api/providers               â”‚                       â”‚
â”‚                    â”‚ â€¢ /api/bookings (chargeType)   â”‚                       â”‚
â”‚                    â”‚ â€¢ /api/users & /api/auth       â”‚                       â”‚
â”‚                    â”‚ â€¢ /api/payments (Stripe)       â”‚                       â”‚
â”‚                    â”‚ â€¢ /api/upload (Cloudinary)     â”‚                       â”‚
â”‚                    â”‚ â€¢ /api/admin/*                 â”‚                       â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                     â”‚                                        â”‚
â”‚                                     â–¼                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                    â”‚         MONGODB ATLAS          â”‚                       â”‚
â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
â”‚                    â”‚ â€¢ providers (17 total)         â”‚                       â”‚
â”‚                    â”‚ â€¢ users                        â”‚                       â”‚
â”‚                    â”‚ â€¢ bookings                     â”‚                       â”‚
â”‚                    â”‚ â€¢ reviews                      â”‚                       â”‚
â”‚                    â”‚ â€¢ servicetemplates (149 recs)  â”‚                       â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ GITHUB REPOSITORIES

| Repository | Visibility | Language | Purpose | Local Path |
|------------|------------|----------|---------|------------|
| `Findr-Health/carrotly-provider-database` | **PUBLIC** | Python/JS | Backend API + Admin Dashboard | `~/Desktop/carrotly-provider-database` |
| `Findr-Health/carrotly-provider-mvp` | **PUBLIC** | TypeScript | Provider Onboarding Portal | `~/Desktop/carrotly-provider-mvp` |
| `Findr-Health/findr-health-mobile` | **PRIVATE** | Dart | Flutter Consumer App | `~/Downloads/Findr_health_APP` |

### âš ï¸ Security Note
`carrotly-provider-database` is PUBLIC. Never commit API keys, secrets, or .env files to this repo.

---

## ğŸ”— LIVE DEPLOYMENTS

| Service | URL | Platform |
|---------|-----|----------|
| Backend API | https://fearless-achievement-production.up.railway.app/api | Railway |
| Provider Portal | https://findrhealth-provider.vercel.app | Vercel |
| Admin Dashboard | https://admin-findrhealth-dashboard.vercel.app | Vercel |

---

## ğŸ” SECURITY & CREDENTIALS

### Google Cloud API Keys
| Key Name | Created | Purpose | Status |
|----------|---------|---------|--------|
| Google maps key User app Jan 2026 | Jan 5, 2026 | Flutter Maps/Places | âš ï¸ EXPOSED - ROTATE |
| Carrotly Agent - Server Side | Nov 25, 2025 | Backend geocoding | âœ… Check restrictions |
| Carrotly Provider Platform - Restricted | Nov 21, 2025 | Provider Portal | âœ… HTTP referrer restricted |

### API Key Locations (Target State)
| Key | Should Be In | NOT In Code |
|-----|--------------|-------------|
| Google Maps (iOS) | Xcode Environment Variables | âŒ Info.plist hardcoded |
| Google Maps (Android) | local.properties / Gradle | âŒ AndroidManifest hardcoded |
| Stripe Keys | Railway Environment Variables | âœ… Correct |
| Cloudinary | Railway Environment Variables | âœ… Correct |
| MongoDB | Railway Environment Variables | âœ… Correct |

### OAuth 2.0 Clients
| Name | Type | Client ID |
|------|------|-----------|
| Findr Health iOS | iOS | 215654569321-ssh1... |

### Stripe Configuration
- **Mode:** Test (pk_test_...)
- **Connect:** Express accounts for providers
- **Webhooks:** Configured in Railway

---

## ğŸ“± APP STORE STATUS

| Platform | Status | Account |
|----------|--------|---------|
| Apple Developer | Active | [Your Apple ID] |
| TestFlight | Not yet submitted | Bundle: com.findrhealth.app |
| Google Play | Not yet configured | Package: com.findrhealth.app |

---

## ğŸ§ª TEST ACCOUNTS

| Type | Email | Password | Purpose |
|------|-------|----------|---------|
| Consumer | Gagi@findrhealth.com | Test1234! | Testing booking flow |
| Provider | [TBD] | [TBD] | Testing provider portal |
| Admin | [TBD] | [TBD] | Testing admin dashboard |

---

## ğŸ“Š DATABASE STATE

### Provider Count: 17
- 7 original providers
- 10 test providers (all service types)

### Test Providers with Full Service Catalogs
| Provider | Type | Services | MongoDB ID |
|----------|------|----------|------------|
| Medical Test | Medical | 34 | 6961103bef927c3f05b10c87 |
| Urgent Care Test | Urgent Care | 36 | 6961103bef927c3f05b10cac |
| Dental Test | Dental | 14 | 6961103cef927c3f05b10cd3 |
| Mental Health Test | Mental Health | 15 | 6961103def927c3f05b10ce4 |
| Skincare Test | Skincare | 21 | 6961103def927c3f05b10cf6 |
| Massage Test | Massage | 13 | 6961103eef927c3f05b10d0e |
| Fitness Test | Fitness | 11 | 6961103eef927c3f05b10d1e |
| Yoga Test | Yoga | 9 | 6961103fef927c3f05b10d2c |
| Nutrition Test | Nutrition | 12 | 6961103fef927c3f05b10d38 |
| Pharmacy Test | Pharmacy | 17 | 6961103fef927c3f05b10d47 |

### Service Templates: 149 total
- Medical: 34 | Urgent Care: 36 | Dental: 14
- Skincare: 21 | Mental Health: 15 | Nutrition: 12
- Pharmacy/Rx: 17 | Massage: 13 | Fitness: 11 | Yoga: 9

---

## ğŸ’³ PAYMENT SYSTEM

### Booking chargeType Options
| Type | Behavior | When Used |
|------|----------|-----------|
| `prepay` | Immediate Stripe charge | Require payment upfront |
| `at_visit` | No charge, pay at appointment | MVP default |
| `card_on_file` | Save card, charge after service | Future |

### payment.method Enum
`['card', 'apple_pay', 'google_pay', 'at_visit', 'cash']`

### Fee Structure
- Platform fee: 10% + $1.50 per booking
- Cap: $35 maximum

---

## ğŸ”§ DEVELOPMENT ENVIRONMENT

### Required Versions
| Tool | Version | Check Command |
|------|---------|---------------|
| Flutter | 3.x.x | `flutter --version` |
| Dart | 3.x.x | `dart --version` |
| Node.js | 18+ | `node --version` |
| Xcode | 15+ | `xcodebuild -version` |

### Key Flutter Packages
- `flutter_stripe` - Payment integration
- `dio` - HTTP client
- `flutter_riverpod` - State management
- `go_router` - Navigation
- `lucide_icons` - Icon set

---

## ğŸ“ KEY FILE LOCATIONS

### Flutter App (`~/Downloads/Findr_health_APP`)
```
lib/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ constants/app_colors.dart
â”‚   â””â”€â”€ router/app_router.dart
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ provider_model.dart
â”‚   â”‚   â””â”€â”€ booking_model.dart
â”‚   â””â”€â”€ repositories/
â”‚       â””â”€â”€ booking_repository.dart
â”œâ”€â”€ presentation/
â”‚   â””â”€â”€ screens/
â”‚       â”œâ”€â”€ booking/
â”‚       â”‚   â”œâ”€â”€ booking_flow_screen.dart
â”‚       â”‚   â”œâ”€â”€ datetime_selection_screen.dart
â”‚       â”‚   â””â”€â”€ booking_review_screen.dart
â”‚       â”œâ”€â”€ home/
â”‚       â””â”€â”€ provider/
â””â”€â”€ providers/
    â””â”€â”€ auth_provider.dart
```

### Backend (`~/Desktop/carrotly-provider-database/backend`)
```
routes/
â”œâ”€â”€ bookings.js      # Booking API with chargeType
â”œâ”€â”€ providers.js     # Provider CRUD
â”œâ”€â”€ payments.js      # Stripe integration
â””â”€â”€ upload.js        # Cloudinary uploads

models/
â”œâ”€â”€ Booking.js       # chargeType field added
â”œâ”€â”€ Provider.js
â””â”€â”€ User.js
```

---

## ğŸ› KNOWN ISSUES & WORKAROUNDS

| Issue | Status | Workaround |
|-------|--------|------------|
| Email SMTP timeout | ğŸŸ¡ Workaround | Made non-blocking (fire-and-forget) |
| Calendar limited to 1 week | ğŸ”´ Needs fix | None - priority fix |
| Payment shows "Google Pay" falsely | ğŸ”´ Needs fix | None - priority fix |
| Provider photos placeholder | ğŸŸ¡ Acceptable | Using default images |

---

## ğŸ“‹ USEFUL COMMANDS

### Flutter
```bash
# Run app
cd ~/Downloads/Findr_health_APP && flutter run

# Analyze code
flutter analyze

# Fresh install (test onboarding)
xcrun simctl uninstall booted com.findrhealth.app && flutter run

# Build iOS
flutter build ios --release
```

### Backend
```bash
# Test API health
curl https://fearless-achievement-production.up.railway.app/api/health

# Get providers
curl https://fearless-achievement-production.up.railway.app/api/providers

# Test booking
curl -X POST "https://fearless-achievement-production.up.railway.app/api/bookings" \
  -H "Content-Type: application/json" \
  -d '{"userId":"ID","providerId":"ID","service":{"name":"Test"},"appointmentDate":"2026-02-01","appointmentTime":"10:00 AM","chargeType":"at_visit"}'
```

### Git
```bash
# Check for exposed secrets
grep -r "AIza" . --include="*.js" --include="*.json"
git log -p | grep -i "api.*key\|AIza\|secret"
```

---

## ğŸ“š RELATED DOCUMENTS

| Document | Purpose |
|----------|---------|
| `OUTSTANDING_ISSUES_v6.md` | Current bugs and priorities |
| `SESSION_PROTOCOL.md` | Daily start/end procedures |
| `DEVELOPER_HANDOFF.md` | Technical onboarding |
| `MOBILE_APP_INTEGRATION_GUIDE.md` | API integration details |

---

*Document Version: 6.0 - January 10, 2026*
