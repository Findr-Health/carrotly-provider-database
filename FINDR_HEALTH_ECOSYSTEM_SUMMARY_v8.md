# FINDR HEALTH ECOSYSTEM - COMPREHENSIVE SUMMARY
## Version 8 | Updated: January 13, 2026

---

## ğŸ—ï¸ SYSTEM ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          FINDR HEALTH ECOSYSTEM                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚   FLUTTER APP    â”‚     â”‚  PROVIDER PORTAL â”‚     â”‚ ADMIN DASHBOARD  â”‚   â”‚
â”‚   â”‚   (Consumer)     â”‚     â”‚  (carrotly-mvp)  â”‚     â”‚                  â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚ â€¢ Home/Browse    â”‚     â”‚ â€¢ Onboarding     â”‚     â”‚ â€¢ Provider Mgmt  â”‚   â”‚
â”‚   â”‚ â€¢ Search Overlay â”‚     â”‚ â€¢ Edit Profile   â”‚     â”‚ â€¢ Service Admin  â”‚   â”‚
â”‚   â”‚ â€¢ Category Browseâ”‚     â”‚ â€¢ Services       â”‚     â”‚ â€¢ Analytics      â”‚   â”‚
â”‚   â”‚ â€¢ Provider Detailâ”‚     â”‚ â€¢ Hours/Calendar â”‚     â”‚ â€¢ Approvals      â”‚   â”‚
â”‚   â”‚ â€¢ Booking Flow   â”‚     â”‚ â€¢ Team Members   â”‚     â”‚ â€¢ User Mgmt      â”‚   â”‚
â”‚   â”‚ â€¢ Payments       â”‚     â”‚ â€¢ Photos         â”‚     â”‚ â€¢ Verified/Featuredâ”‚  â”‚
â”‚   â”‚ â€¢ Profile/Auth   â”‚     â”‚ â€¢ Credentials    â”‚     â”‚ â€¢ Hours Tab      â”‚   â”‚
â”‚   â”‚ â€¢ Clarity AI     â”‚     â”‚ â€¢ Policies       â”‚     â”‚                  â”‚   â”‚
â”‚   â”‚ â€¢ Map Search     â”‚     â”‚                  â”‚     â”‚                  â”‚   â”‚
â”‚   â”‚ â€¢ My Bookings    â”‚     â”‚ ğŸ”œ Stripe Connectâ”‚     â”‚ ğŸ”œ Field Alignmentâ”‚  â”‚
â”‚   â”‚ â€¢ Biometric Auth â”‚     â”‚ ğŸ”œ Calendar Sync â”‚     â”‚ ğŸ”œ Stripe Status â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚            â”‚                        â”‚                        â”‚              â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                     â”‚                                        â”‚
â”‚                                     â–¼                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚                    â”‚         NODE.JS BACKEND                â”‚               â”‚
â”‚                    â”‚  (Railway: fearless-achievement)       â”‚               â”‚
â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
â”‚                    â”‚ â€¢ /api/providers                       â”‚               â”‚
â”‚                    â”‚ â€¢ /api/bookings (chargeType)           â”‚               â”‚
â”‚                    â”‚ â€¢ /api/users & /api/auth               â”‚               â”‚
â”‚                    â”‚ â€¢ /api/payments (Stripe)               â”‚               â”‚
â”‚                    â”‚ â€¢ /api/upload (Cloudinary)             â”‚               â”‚
â”‚                    â”‚ â€¢ /api/admin/*                         â”‚               â”‚
â”‚                    â”‚ â€¢ /api/search/featured                 â”‚               â”‚
â”‚                    â”‚ â€¢ /api/search/verified                 â”‚               â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                     â”‚                                        â”‚
â”‚                                     â–¼                                        â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚                    â”‚         MONGODB ATLAS                  â”‚               â”‚
â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
â”‚                    â”‚ â€¢ providers (17 total)                 â”‚               â”‚
â”‚                    â”‚ â€¢ users                                â”‚               â”‚
â”‚                    â”‚ â€¢ bookings                             â”‚               â”‚
â”‚                    â”‚ â€¢ reviews                              â”‚               â”‚
â”‚                    â”‚ â€¢ servicetemplates (149 records)       â”‚               â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ GITHUB REPOSITORIES

| Repository | Visibility | Language | Purpose | Local Path |
|------------|------------|----------|---------|------------|
| `Findr-Health/carrotly-provider-database` | **PUBLIC** | Python/JS | Backend API + Admin Dashboard | `~/Development/findr-health/carrotly-provider-database` |
| `Findr-Health/carrotly-provider-mvp` | **PUBLIC** | TypeScript | Provider Onboarding Portal | `~/Development/findr-health/carrotly-provider-mvp` |
| `Findr-Health/findr-health-mobile` | **PRIVATE** | Dart | Flutter Consumer App | `~/Development/findr-health/findr-health-mobile` |

### âš ï¸ Security Note
`carrotly-provider-database` is PUBLIC. Never commit API keys, secrets, or .env files.

---

## ğŸ”— LIVE DEPLOYMENTS

| Service | URL | Platform |
|---------|-----|----------|
| Backend API | https://fearless-achievement-production.up.railway.app/api | Railway |
| Provider Portal | https://findrhealth-provider.vercel.app | Vercel |
| Admin Dashboard | https://admin-findrhealth-dashboard.vercel.app | Vercel |

---

## ğŸ“± FLUTTER APP - KEY DETAILS

### Removed Dependencies (Jan 13, 2026)
| Package | Reason Removed |
|---------|----------------|
| `flutter_facebook_auth` | Crashed on iOS standalone launch |
| `flutter_secure_storage` | Required Keychain entitlements incompatible with iOS 26.1 beta |

### Current Auth Methods
- âœ… Email/Password
- âœ… Google Sign-In
- âœ… Apple Sign-In
- âŒ Facebook (removed)

### Storage
- All data now uses `SharedPreferences`
- Tokens stored in SharedPreferences (acceptable for MVP)
- Biometric preference stored in SharedPreferences

### Key Files
```
lib/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ services/storage_service.dart    # Rewritten Jan 13 - SharedPreferences only
â”‚   â””â”€â”€ router/app_router.dart
â”œâ”€â”€ data/models/
â”‚   â”œâ”€â”€ provider_model.dart              # Includes isVerified, isFeatured
â”‚   â””â”€â”€ booking_model.dart
â”œâ”€â”€ presentation/screens/
â”‚   â”œâ”€â”€ auth/login_screen.dart           # Facebook removed
â”‚   â”œâ”€â”€ booking/
â”‚   â”‚   â””â”€â”€ datetime_selection_screen.dart  # Monthly calendar view
â”‚   â””â”€â”€ splash/splash_screen.dart        # Biometric check
â””â”€â”€ services/
    â””â”€â”€ social_auth_service.dart         # Facebook methods removed
```

---

## ğŸ’³ PAYMENT SYSTEM

### Booking chargeType Options
| Type | Behavior | Status |
|------|----------|--------|
| `prepay` | Immediate Stripe charge | âœ… Implemented |
| `at_visit` | No charge, pay at appointment | âœ… Default |
| `card_on_file` | Save card, charge after | ğŸ”œ Future |

### Fee Structure
- Platform fee: 10% + $1.50 per booking
- Cap: $35 maximum

### Stripe Connect (Planned)
- **Account Type:** Express (Stripe handles KYC)
- **Flow:** Provider clicks "Connect" â†’ Stripe onboarding â†’ Returns
- **Data:** `stripeConnectedAccountId` in Provider model

---

## ğŸ“… CALENDAR INTEGRATION (Planned)

### Approach: Two-Way with Google/Microsoft (85% coverage)

| Platform | API | Coverage |
|----------|-----|----------|
| Google Calendar | FreeBusy API | ~50% |
| Microsoft Outlook | Graph API | ~35% |

### Features
- **Read:** Provider's busy times (privacy-friendly)
- **Calculate:** Available slots from business hours minus busy
- **Write:** Push bookings to provider's calendar

### Provider Schema Addition (Planned)
```javascript
calendarIntegration: {
  google: {
    connected: Boolean,
    accessToken: String,      // encrypted
    refreshToken: String,     // encrypted
    calendarId: String,
    email: String
  },
  microsoft: {
    connected: Boolean,
    accessToken: String,
    refreshToken: String,
    email: String
  }
}
```

---

## ğŸ“Š DATABASE STATE

### Provider Statistics
- **Total Providers:** 17
- **Test Providers:** 10 (all categories)
- **With Photos:** 3
- **Verified:** 12
- **Featured:** 12

### Test Providers
| Provider | Type | Services | Verified | Featured |
|----------|------|----------|----------|----------|
| Medical Test | Medical | 34 | âœ… | âœ… |
| Urgent Care Test | Urgent Care | 36 | âœ… | âœ… |
| Dental Test | Dental | 14 | âœ… | âœ… |
| Mental Health Test | Mental Health | 15 | âœ… | âœ… |
| Skincare Test | Skincare | 21 | âœ… | âœ… |
| Massage Test | Massage | 13 | âœ… | âœ… |
| Fitness Test | Fitness | 11 | âœ… | âœ… |
| Yoga Test | Yoga | 9 | âœ… | âœ… |
| Nutrition Test | Nutrition | 12 | âœ… | âœ… |
| Pharmacy Test | Pharmacy | 17 | âœ… | âœ… |

### Service Templates: 149 total
Medical: 34 | Urgent Care: 36 | Dental: 14 | Skincare: 21 | Mental Health: 15 | Nutrition: 12 | Pharmacy: 17 | Massage: 13 | Fitness: 11 | Yoga: 9

---

## ğŸ§ª TEST ACCOUNTS

| Type | Email | Password | Purpose |
|------|-------|----------|---------|
| Consumer | gagi@findrhealth.com | Test1234! | Primary testing |
| Consumer | tim@findrhealth.com | Test1234! | Developer testing |

---

## ğŸ› KNOWN ISSUES

| Issue | Status | Workaround |
|-------|--------|------------|
| iOS 26.1 blocks Release installs | Active | Use TestFlight |
| Biometric untested | Blocked | Awaiting TestFlight |
| Email SMTP timeout | Workaround | Non-blocking (fire-and-forget) |

---

## ğŸ“‹ USEFUL COMMANDS

### Flutter
```bash
# Run app
cd ~/Development/findr-health/findr-health-mobile && flutter run

# Clean rebuild
flutter clean && flutter pub get && flutter run

# Archive for TestFlight
flutter build ios --release
# Then: Xcode â†’ Product â†’ Archive â†’ Distribute
```

### Backend
```bash
# Test API
curl https://fearless-achievement-production.up.railway.app/api/health

# Get providers
curl https://fearless-achievement-production.up.railway.app/api/providers

# Get featured
curl https://fearless-achievement-production.up.railway.app/api/search/featured
```

### Git
```bash
# Add SSH key (every session)
ssh-add ~/.ssh/id_ed25519_findr

# Status check
git status && git log -1 --oneline
```

---

## ğŸ“š RELATED DOCUMENTS

| Document | Version | Purpose |
|----------|---------|---------|
| SESSION_PROTOCOL | v3 | Daily procedures |
| OUTSTANDING_ISSUES | v11 | Bug/task tracking |
| DEVELOPER_HANDOFF | v1 | Technical onboarding |

---

## ğŸ”„ VERSION HISTORY

| Version | Date | Changes |
|---------|------|---------|
| 8.0 | Jan 13, 2026 | Removed Facebook/secure_storage, added calendar integration plan |
| 7.0 | Jan 12, 2026 | Git migration, canonical paths |
| 6.0 | Jan 10, 2026 | Payment system, test providers |

---

*Document Version: 8.0 - January 13, 2026*
